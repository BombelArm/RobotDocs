<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>[PMIK] Position control of stepper motors on an example of robotic arm: Mainpage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="v2_render.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">[PMIK] Position control of stepper motors on an example of robotic arm
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Mainpage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Michal Romanowski</dd></dl>
<h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>This project implements position and speed control for stepper motors on example of robotic arm called "Bombel". The robot consists of three joints (every joint has its own stepper motor and absolute encoder to determine the positon). Micro-controller unit (in that case STM32F4) controls the stepper motor driver which directly controls stepper motors.</p>
<h1><a class="anchor" id="soft_sec"></a>
Firmware</h1>
<p>Code is divided into couple of modules. To begin with, to control the speed of stepper motors the Stepper module is used. Moving on, we have Motion Controler that controlls the joints' positions and their limitations. Moreover, we have Task Manager, which buffers and executes tasks. And last but not least we have Communication module that is resposible for communication with PC. Firmware schematics is shown below. </p><div class="image">
<img src="core_agent_firmware_schematics.png" alt="core_agent_firmware_schematics.png"/>
</div>
<h1><a class="anchor" id="hw_sec"></a>
Hardware</h1>
<p>Construction of the robotic arm was 3D printed and put together with metal screws. Electronics is based on micro-controller and stepper motor driver. Motion of the robot is applied by three stepper motors and controled by three absolute magnetic encoders. </p><div class="image">
<img src="hardware.png" alt="hardware.png"/>
</div>
<h2><a class="anchor" id="hw_schematics"></a>
Hardware schematics</h2>
<div class="image">
<img src="core_agent_hardware_schematics.png" alt="core_agent_hardware_schematics.png"/>
</div>
<h1><a class="anchor" id="task_manager"></a>
Task manager</h1>
<p>Tasks manager keeps the whole system from executing every task at once. The mechanism is based on shift-buffer to which new tasks are appended and outdated tasks are removed from. When task has ended it calls the task manager to execute the new one.</p>
<h1><a class="anchor" id="communication"></a>
Communication with PC</h1>
<p>Communication between micro-controller and PC is applied via UART protocol. Micro-controller uses HAL interrupt methods to send/receive message. On the other hand, the PC can implement communication via serial port on many ways. Although, it is important to keep the proper message format which is shown below. </p><div class="image">
<img src="message_format.png" alt="message_format.png"/>
</div>
 </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
